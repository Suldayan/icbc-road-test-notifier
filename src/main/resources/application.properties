spring.application.name=icbc-road-test-notifier

icbc.login.url=https://onlinebusiness.icbc.com/webdeas-ui/login;type=driver
icbc.auth.storage-dir=/var/app/icbc-auth
icbc.browser.headless=true
icbc.browser.timeout-seconds=30
icbc.browser.task-timeout-seconds=90
icbc.storage.expiry-hours=24

logging.level.com.example.icbc_road_test_notifier=DEBUG
logging.level.com.microsoft.playwright=INFO

# Enable JDBC schema initialization for event publication table
spring.modulith.events.jdbc-schema-initialization.enabled=true

# CRITICAL: Auto-delete completed events instead of just marking them complete
# This prevents unbounded table growth and improves performance
spring.modulith.events.completion-mode=DELETE

# Optional: Custom database schema (if you need it)
# spring.modulith.events.jdbc.schema=your_schema_name


# Database configuration (you'll need this for the event registry)
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password

# JPA configuration
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop

# Logging for debugging events (optional)
logging.level.org.springframework.modulith.events=DEBUG

